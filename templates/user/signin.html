{% extends "base.html" %}

{% block body %}
<div class="container mt-5">
  <form id="teacherForm" method="POST" class="border p-4 rounded shadow-sm">
    <div class="mb-4">
      <h2>로그인</h2>
    </div>
    <div class="mb-3">
      <label for="teacherId" class="form-label">아이디</label>
      <input type="text" class="form-control" id="teacherId" name="id" placeholder="아이디를 입력해주세요." required>
    </div>
    <div class="mb-3">
      <label for="teacherPassword" class="form-label">비밀번호</label>
      <input type="password" class="form-control" id="teacherPassword" name="password" placeholder="비밀번호를 입력해주세요." required>
    </div>
    <div class="mb-5"></div>
    <div class="d-flex justify-content-between">
      <button type="submit" id="loginBtn" class="btn btn-primary w-50 me-2" onclick="submitForm(event)">로그인</button>
      <button type="button" id="signupBtn" class="btn btn-primary w-50" onclick="goToSignup()">회원가입</button>
    </div>
  </form>
</div>

<script>
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');

  function submitForm(event) {
    event.preventDefault();
    
    signupBtn.disabled = true;
    loginBtn.disabled = true;
    loginBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>로그인 중...';
    
    document.getElementById('teacherForm').submit();
  }

  function goToSignup() {
    loginBtn.disabled = true;
    signupBtn.disabled = true;
    signupBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>이동 중...';
    
    location.href = '/user/signup';
  }
</script>
{% endblock %}